This is a modification from github.com/heinekmadsen/esphome_components